@using Competitions.Domain.Entities
@using Competitions.Web.Utilities;
@model Competitions.Domain.Entities.Notifications.Notification


@section Styles{
    <link rel="stylesheet" href="~/css/home/place.css" />
    <link rel="stylesheet" href="~/css/home/place-list.css" />
    <style>
        .change-icon {
            text-shadow: 0 0 5px black;
        }
    </style>

}

<div class="d-flex justify-content-end mb-4">
    <button onclick="window.history.back();" class="btn btn-secondary">
        بازگشت
        <i class="fas fa-reply my-1 mx-2"></i>
    </button>
</div>


<section class="card shadow-sm px-5">


    <h2 class="place-title text-info">عنوان : @Model.Title</h2>
    <hr />

    <div class="carou-container">
        <div id="carouselExampleIndicators" class="carousel slide place-carousel" data-ride="carousel">
            <ol class="carousel-indicators">
                @for (int i = 0; Model.Images.Where(img => !img.Name.IsPDF()).Count() > 1 && i < Model.Images.Count(); i++)
                {
                    <li data-target="#carouselExampleIndicators" data-slide-to="@i" class="@(i == 0 ? "active" : "")"></li>
                }
            </ol>
            <div class="carousel-inner">
                @for (int i = 0; i < Model.Images.Where(img => !img.Name.IsPDF()).Count(); i++)
                {
                    if (i == 0)
                    {
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="@StaticEntitiesDetails.NotificationPath@Model.Images.ElementAt(0).Image.Name" alt="عکس @i">
                        </div>
                    }
                    else
                    {
                        <div class="carousel-item">
                            <img class="d-block w-100" src="@StaticEntitiesDetails.NotificationPath@Model.Images.ElementAt(i).Image.Name" alt="عکس @i">
                        </div>
                    }
                }
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon change-icon" aria-hidden="true"></span>
                <span class="sr-only">قبلی</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon change-icon" aria-hidden="true"></span>
                <span class="sr-only">بعدی</span>
            </a>
        </div>
    </div>
    <hr />
    <div class="mt-3">
        @Html.Raw(Model.Description)
    </div>
    @if (Model.Images.Where(u => u.Name.IsPDF()).Any())
    {
        <div class="mt-4">
            <h4>مستندات</h4>
            <ul>
                @foreach (var item in Model.Images.Where(u => u.Name.IsPDF()))
                {
                    <li>
                        <a asp-action="Download" asp-route-id="@item.Id" class="d-block mb-2">@item.Name</a>
                    </li>
                }
            </ul>
        </div>
    }
</section>

@*@section Scripts{
    <script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>
}*@